{% extends 'base_register.html' %}
{% block title %}
  パスワード変更完了
{% endblock %}

{% block content %}
  <div class="container mt-5 d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="card shadow-sm p-4" style="width: 100%; max-width: 400px; border-radius: 10px;">
      <div class="text-center mb-4">
        <h3 class="fw-bold">ログイン</h3>
        <p class="text-muted">アカウントにログインしてください</p>
      </div>
      <form method="post">
        {% csrf_token %}
        <!-- ユーザー名 -->
        <div class="mb-3">
          <label for="id_username" class="form-label">ユーザー名</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
            <input type="text" name="username" class="form-control" id="id_username" placeholder="ユーザー名を入力" required />
          </div>
        </div>

        <!-- パスワード -->
        <div class="mb-3">
          <label for="id_password" class="form-label">パスワード</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
            <input type="password" name="password" class="form-control" id="id_password" placeholder="パスワードを入力" required />
            <span class="input-group-text"><i class="bi bi-eye-slash" id="togglePassword" style="cursor: pointer;"></i></span>
          </div>
        </div>

        <!-- サブミットボタン -->
        <div class="d-grid">
          <button type="submit" class="btn btn-primary fw-bold">ログイン</button>
        </div>

        <!-- パスワードリセットリンク -->
        <div class="text-center mt-3">
          <a href="/" class="text-decoration-none">パスワードを忘れた場合</a>
        </div>
      </form>

      <!-- 登録リンク -->
      <div class="text-center mt-4">
        <p class="mb-0">
          アカウントをお持ちでないですか？
          <a href="/" class="text-decoration-none">新規登録</a>
        </p>
      </div>
    </div>
  </div>

  <!-- パスワード表示切り替えスクリプト -->
  <script>
    const togglePassword = document.getElementById('togglePassword')
    const passwordField = document.getElementById('id_password')
    
    togglePassword.addEventListener('click', () => {
      const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password'
      passwordField.setAttribute('type', type)
    
      // アイコンの切り替え
      togglePassword.classList.toggle('bi-eye')
      togglePassword.classList.toggle('bi-eye-slash')
    })
  </script>
{% endblock %}
